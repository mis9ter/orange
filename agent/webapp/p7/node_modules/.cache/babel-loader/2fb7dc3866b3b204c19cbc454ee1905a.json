{"remainingRequest":"C:\\WORK\\orange\\agent\\webapp\\p7\\node_modules\\thread-loader\\dist\\cjs.js!C:\\WORK\\orange\\agent\\webapp\\p7\\node_modules\\babel-loader\\lib\\index.js!C:\\WORK\\orange\\agent\\webapp\\p7\\src\\plugins\\vue-columns-resizable\\index.js","dependencies":[{"path":"C:\\WORK\\orange\\agent\\webapp\\p7\\src\\plugins\\vue-columns-resizable\\index.js","mtime":1621316011223},{"path":"C:\\WORK\\orange\\agent\\webapp\\p7\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\WORK\\orange\\agent\\webapp\\p7\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\WORK\\orange\\agent\\webapp\\p7\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgaW5zdGFsbDogZnVuY3Rpb24gaW5zdGFsbChWdWUpIHsKICAgIFZ1ZS5kaXJlY3RpdmUoJ2NvbHVtbnMtcmVzaXphYmxlJywgewogICAgICBpbnNlcnRlZDogZnVuY3Rpb24gaW5zZXJ0ZWQoZWwpIHsKICAgICAgICB2YXIgbm9kZU5hbWUgPSBlbC5ub2RlTmFtZTsKICAgICAgICBpZiAoWydUQUJMRScsICdUSEVBRCddLmluZGV4T2Yobm9kZU5hbWUpIDwgMCkgcmV0dXJuOwogICAgICAgIHZhciB0YWJsZSA9IG5vZGVOYW1lID09PSAnVEFCTEUnID8gZWwgOiBlbC5wYXJlbnRFbGVtZW50OwogICAgICAgIHZhciB0aGVhZCA9IHRhYmxlLnF1ZXJ5U2VsZWN0b3IoJ3RoZWFkJyk7CiAgICAgICAgdmFyIHRocyA9IHRoZWFkLnF1ZXJ5U2VsZWN0b3JBbGwoJ3RoJyk7CiAgICAgICAgdmFyIGJhckhlaWdodCA9IG5vZGVOYW1lID09PSAnVEFCTEUnID8gdGFibGUub2Zmc2V0SGVpZ2h0IDogdGhlYWQub2Zmc2V0SGVpZ2h0OwogICAgICAgIHZhciByZXNpemVDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICB0YWJsZS5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7CiAgICAgICAgcmVzaXplQ29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJzsKICAgICAgICByZXNpemVDb250YWluZXIuc3R5bGUud2lkdGggPSB0YWJsZS5vZmZzZXRXaWR0aCArICdweCc7CiAgICAgICAgcmVzaXplQ29udGFpbmVyLmNsYXNzTmFtZSA9ICJ2dWUtY29sdW1ucy1yZXNpemFibGUiOwogICAgICAgIHRhYmxlLnBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKHJlc2l6ZUNvbnRhaW5lciwgdGFibGUpOwogICAgICAgIHZhciBtb3ZpbmcgPSBmYWxzZTsKICAgICAgICB2YXIgbW92aW5nSW5kZXggPSAwOwogICAgICAgIHRocy5mb3JFYWNoKGZ1bmN0aW9uICh0aCwgaW5kZXgpIHsKICAgICAgICAgIHRoLnN0eWxlLndpZHRoID0gdGgub2Zmc2V0V2lkdGggKyAncHgnOwogICAgICAgICAgaWYgKGluZGV4ICsgMSA+PSB0aHMubGVuZ3RoKSByZXR1cm47CiAgICAgICAgICB2YXIgbmV4dFRoID0gdGhzW2luZGV4ICsgMV07CiAgICAgICAgICB2YXIgYmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICBiYXIuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnOwogICAgICAgICAgYmFyLnN0eWxlLmxlZnQgPSBuZXh0VGgub2Zmc2V0TGVmdCAtIDQgKyAncHgnOwogICAgICAgICAgYmFyLnN0eWxlLnRvcCA9IDA7CiAgICAgICAgICBiYXIuc3R5bGUuaGVpZ2h0ID0gYmFySGVpZ2h0ICsgJ3B4JzsKICAgICAgICAgIGJhci5zdHlsZS53aWR0aCA9ICc4cHgnOwogICAgICAgICAgYmFyLnN0eWxlLmN1cnNvciA9ICdjb2wtcmVzaXplJzsKICAgICAgICAgIGJhci5zdHlsZS56SW5kZXggPSAxOwogICAgICAgICAgYmFyLmNsYXNzTmFtZSA9ICdjb2x1bW5zLXJlc2l6ZS1iYXInOwogICAgICAgICAgYmFyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgbW92aW5nID0gdHJ1ZTsKICAgICAgICAgICAgbW92aW5nSW5kZXggPSBpbmRleDsKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSAnY29sLXJlc2l6ZSc7CiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUudXNlclNlbGVjdCA9ICdub25lJzsKICAgICAgICAgIH0pOwogICAgICAgICAgcmVzaXplQ29udGFpbmVyLmFwcGVuZENoaWxkKGJhcik7CiAgICAgICAgfSk7CiAgICAgICAgdmFyIGJhcnMgPSByZXNpemVDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmNvbHVtbnMtcmVzaXplLWJhcicpOwogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoIW1vdmluZykgcmV0dXJuOwogICAgICAgICAgbW92aW5nID0gZmFsc2U7CiAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9ICcnOwogICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS51c2VyU2VsZWN0ID0gJyc7CiAgICAgICAgICBiYXJzLmZvckVhY2goZnVuY3Rpb24gKGJhciwgaW5kZXgpIHsKICAgICAgICAgICAgdmFyIHRoID0gdGhzW2luZGV4XTsKICAgICAgICAgICAgdmFyIG5leHRUaCA9IHRoc1tpbmRleCArIDFdOwogICAgICAgICAgICB0aC5zdHlsZS53aWR0aCA9IHRoLm9mZnNldFdpZHRoICsgJ3B4JzsKICAgICAgICAgICAgYmFyLnN0eWxlLmxlZnQgPSBuZXh0VGgub2Zmc2V0TGVmdCAtIDQgKyAncHgnOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CgogICAgICAgIHZhciBjdXRQeCA9IGZ1bmN0aW9uIGN1dFB4KHN0cikgewogICAgICAgICAgcmV0dXJuICtzdHIucmVwbGFjZSgncHgnLCAnJyk7CiAgICAgICAgfTsKCiAgICAgICAgdmFyIGhhbmRsZVJlc2l6ZSA9IGZ1bmN0aW9uIGhhbmRsZVJlc2l6ZShlKSB7CiAgICAgICAgICBpZiAobW92aW5nKSB7CiAgICAgICAgICAgIHZhciB0aCA9IHRoc1ttb3ZpbmdJbmRleF07CiAgICAgICAgICAgIHZhciBuZXh0VGggPSB0aHNbbW92aW5nSW5kZXggKyAxXTsKICAgICAgICAgICAgdmFyIGJhciA9IGJhcnNbbW92aW5nSW5kZXhdOwogICAgICAgICAgICB0aC5zdHlsZS53aWR0aCA9IGN1dFB4KHRoLnN0eWxlLndpZHRoKSArIGUubW92ZW1lbnRYICsgJ3B4JzsKICAgICAgICAgICAgbmV4dFRoLnN0eWxlLndpZHRoID0gY3V0UHgobmV4dFRoLnN0eWxlLndpZHRoKSAtIGUubW92ZW1lbnRYICsgJ3B4JzsKICAgICAgICAgICAgYmFyLnN0eWxlLmxlZnQgPSBuZXh0VGgub2Zmc2V0TGVmdCAtIDQgKyBlLm1vdmVtZW50WCArICdweCc7CiAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgcmVzaXplQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGhhbmRsZVJlc2l6ZSk7CiAgICAgICAgdGFibGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgaGFuZGxlUmVzaXplKTsKICAgICAgfQogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["C:/WORK/orange/agent/webapp/p7/src/plugins/vue-columns-resizable/index.js"],"names":["install","Vue","directive","inserted","el","nodeName","indexOf","table","parentElement","thead","querySelector","ths","querySelectorAll","barHeight","offsetHeight","resizeContainer","document","createElement","style","position","width","offsetWidth","className","insertBefore","moving","movingIndex","forEach","th","index","length","nextTh","bar","left","offsetLeft","top","height","cursor","zIndex","addEventListener","body","userSelect","appendChild","bars","cutPx","str","replace","handleResize","e","movementX"],"mappings":"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","sourcesContent":["export default {\n  install(Vue) {\n    Vue.directive('columns-resizable', {\n      inserted(el) {\n        const nodeName = el.nodeName;\n        if (['TABLE', 'THEAD'].indexOf(nodeName) < 0) return;\n\n        const table = nodeName === 'TABLE' ? el : el.parentElement;\n        const thead = table.querySelector('thead');\n        const ths = thead.querySelectorAll('th');\n        const barHeight = nodeName === 'TABLE' ? table.offsetHeight : thead.offsetHeight;\n\n        const resizeContainer = document.createElement('div');\n        table.style.position = 'relative';\n        resizeContainer.style.position = 'relative';\n        resizeContainer.style.width = table.offsetWidth + 'px';\n        resizeContainer.className = \"vue-columns-resizable\";\n        table.parentElement.insertBefore(resizeContainer, table);\n\n        let moving = false;\n        let movingIndex = 0;\n\n        ths.forEach((th, index) => {\n          th.style.width = th.offsetWidth + 'px';\n\n          if (index + 1 >= ths.length) return;\n\n          const nextTh = ths[index + 1];\n          const bar = document.createElement('div');\n\n          bar.style.position = 'absolute';\n          bar.style.left = nextTh.offsetLeft - 4 + 'px';\n          bar.style.top = 0;\n          bar.style.height = barHeight + 'px';\n          bar.style.width = '8px';\n          bar.style.cursor = 'col-resize';\n          bar.style.zIndex = 1;\n          bar.className = 'columns-resize-bar';\n\n          bar.addEventListener('mousedown', () => {\n            moving = true;\n            movingIndex = index;\n            document.body.style.cursor = 'col-resize';\n            document.body.style.userSelect = 'none';\n          });\n\n          resizeContainer.appendChild(bar);\n        });\n\n        const bars = resizeContainer.querySelectorAll('.columns-resize-bar');\n\n        document.addEventListener('mouseup', () => {\n          if (!moving) return;\n\n          moving = false;\n          document.body.style.cursor = '';\n          document.body.style.userSelect = '';\n\n          bars.forEach((bar, index) => {\n            const th = ths[index];\n            const nextTh = ths[index + 1];\n            th.style.width = th.offsetWidth + 'px';\n            bar.style.left = nextTh.offsetLeft - 4 + 'px';\n          });\n        });\n\n        const cutPx = str => +str.replace('px', '');\n\n        const handleResize = e => {\n          if (moving) {\n            const th = ths[movingIndex];\n            const nextTh = ths[movingIndex + 1];\n            const bar = bars[movingIndex];\n            th.style.width = cutPx(th.style.width) + e.movementX + 'px';\n            nextTh.style.width = cutPx(nextTh.style.width) - e.movementX + 'px';\n            bar.style.left = nextTh.offsetLeft - 4 + e.movementX + 'px';\n          }\n        };\n\n        resizeContainer.addEventListener('mousemove', handleResize);\n        table.addEventListener('mousemove', handleResize);\n      },\n    });\n\n  },\n};\n"]}]}